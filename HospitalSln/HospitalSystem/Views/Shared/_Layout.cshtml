<!DOCTYPE html>
<html lang="uk">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>HospitalSystem - @ViewData["Title"]</title>

	<!-- Bootstrap & Icons -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

	<!-- === СТИЛІ === -->
	<style>
		/* === Загальні стилі === */
		body {
			background-color: #f6f7fb;
			font-family: "Inter", "Segoe UI", sans-serif;
			color: #333;
		}

		/* === Навігаційна панель === */
		.navbar {
			background: linear-gradient(90deg, #7b61ff, #3acfd5);
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
			padding: 0.8rem 0;
			transition: all 0.3s ease;
		}

		.navbar-brand {
			color: #fff !important;
			font-weight: 700;
			font-size: 1.3rem;
			display: flex;
			align-items: center;
			gap: 8px;
			letter-spacing: 0.5px;
		}

			.navbar-brand i {
				font-size: 1.4rem;
			}

		.nav-link {
			color: #f8f9fa !important;
			font-weight: 500;
			transition: 0.3s;
			display: flex;
			align-items: center;
			gap: 6px;
		}

			.nav-link:hover {
				color: #ffe066 !important;
				transform: translateY(-1px);
			}

		.navbar-toggler {
			border: none;
		}

			.navbar-toggler:focus {
				box-shadow: none;
			}

		/* === Картки === */
		.card {
			border: none;
			border-radius: 1rem;
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
			transition: transform 0.25s ease, box-shadow 0.25s ease;
		}

			.card:hover {
				transform: translateY(-4px);
				box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
			}

		/* === Кнопки === */
		.btn {
			border-radius: 0.7rem;
			font-weight: 500;
			transition: 0.3s ease;
			padding: 0.5rem 1.2rem;
		}

		.btn-primary {
			background: linear-gradient(45deg, #3acfd5, #7b61ff);
			border: none;
		}

			.btn-primary:hover {
				background: linear-gradient(45deg, #2bb5c0, #684efc);
				transform: translateY(-1px);
			}

		.btn-outline-primary {
			border-color: #7b61ff;
			color: #7b61ff;
		}

			.btn-outline-primary:hover {
				background-color: #7b61ff;
				color: white;
			}

		.btn-outline-success {
			border-color: #3acfd5;
			color: #3acfd5;
		}

			.btn-outline-success:hover {
				background-color: #3acfd5;
				color: white;
			}

		/* === Таблиці === */
		.table {
			border-radius: 0.5rem;
			overflow: hidden;
		}

			.table thead {
				background: linear-gradient(90deg, #7b61ff, #3acfd5);
				color: #fff;
			}

		/* === Сайдбар === */
		.sidebar {
			background-color: #fff;
			border-radius: 1rem;
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
			padding: 1.5rem;
		}

		.sidebar h5 {
			color: #7b61ff;
			font-weight: 600;
			margin-bottom: 1rem;
		}

		.list-group-item {
			border: none;
			border-radius: 0.5rem !important;
			margin-bottom: 0.5rem;
			transition: all 0.2s ease;
		}

		.list-group-item:hover {
			background-color: #f0f0f5;
			transform: translateX(5px);
		}

		.list-group-item.active {
			background: linear-gradient(45deg, #3acfd5, #7b61ff);
			color: #fff;
		}

		/* === Футер === */
		footer {
			background-color: #fff;
			box-shadow: 0 -2px 6px rgba(0, 0, 0, 0.05);
			padding: 1rem 0;
			margin-top: 3rem;
		}

			footer p {
				margin: 0;
				color: #6c757d;
				font-size: 0.9rem;
			}

		.dropdown-menu {
			border-radius: 0.7rem;
		}

		.dropdown-item {
			border-radius: 0.5rem;
			margin: 0.2rem 0.5rem;
		}
	</style>
</head>

<body>
	<!-- === HEADER === -->
	<header>
		<nav class="navbar navbar-expand-lg">
			<div class="container">
				<a class="navbar-brand" href="/">
					<i class="bi bi-hospital"></i> HospitalSystem
				</a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="navbar-nav me-auto">
						<li class="nav-item">
							<a class="nav-link" href="/">
								<i class="bi bi-house-door"></i> Головна
							</a>
						</li>
						@if (User.Identity?.IsAuthenticated == true)
						{
							<li class="nav-item">
								<a class="nav-link" href="/Appointments">
									<i class="bi bi-calendar3"></i> Записи
								</a>
							</li>
						<li class="nav-item">
							<a class="nav-link" href="/Appointments/Dashboard">
								<i class="bi bi-broadcast"></i> Моніторинг
							</a>
						</li>

							<li class="nav-item">
								<a class="nav-link" href="/Doctors">
									<i class="bi bi-people"></i> Лікарі
								</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="/Appointments/Create">
									<i class="bi bi-plus-circle"></i> Новий запис
								</a>
							</li>
						}
					</ul>
					<ul class="navbar-nav">
						@if (User.Identity?.IsAuthenticated == true)
						{
							<li class="nav-item dropdown">
								<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown">
									<i class="bi bi-person-circle"></i> @User.Identity.Name
								</a>
								<ul class="dropdown-menu dropdown-menu-end">
									<li><a class="dropdown-item" asp-controller="Account" asp-action="Profile">
										<i class="bi bi-person"></i> Профіль
									</a></li>
									@if (User.IsInRole("Admin"))
									{
										<li><hr class="dropdown-divider"></li>
										<li><a class="dropdown-item" asp-controller="Account" asp-action="ManageUsers">
											<i class="bi bi-shield-check"></i> Керування користувачами
										</a></li>
									}
									<li><hr class="dropdown-divider"></li>
									<li><a class="dropdown-item" asp-controller="Account" asp-action="Logout">
										<i class="bi bi-box-arrow-right"></i> Вийти
									</a></li>
								</ul>
							</li>
						}
						else
						{
							<li class="nav-item">
								<a class="nav-link" asp-controller="Account" asp-action="Login">
									<i class="bi bi-box-arrow-in-right"></i> Вхід
								</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" asp-controller="Account" asp-action="Register">
									<i class="bi bi-person-plus"></i> Реєстрація
								</a>
							</li>
						}
					</ul>
				</div>
			</div>
		</nav>
	</header>

	<!-- === MAIN === -->
	<main>
		@RenderBody()
	</main>

	<!-- === FOOTER === -->
	<footer class="text-center">
		<div class="container">
			<p>© 2025 HospitalSystem. Всі права захищено.</p>
		</div>
	</footer>

	<!-- Bootstrap JS -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
	
	<!-- SignalR -->
	<script src="https://cdn.jsdelivr.net/npm/@@microsoft/signalr@8.0.0/dist/browser/signalr.min.js"></script>
	
	@if (User.Identity?.IsAuthenticated == true)
	{
		<!-- SignalR for real-time appointment updates -->
		<script src="~/js/appointment-signalr.js"></script>
	}
	
	@RenderSection("Scripts", required: false)
</body>
</html>
