@model HospitalSystem.Models.ViewModels.AppointmentsListViewModel

<div class="container py-4">
	<div class="row">
		<!-- Сайдбар з навігацією -->
		<div class="col-lg-3 mb-4">
			<div class="sidebar">
				<h5><i class="bi bi-list-ul"></i> Відділення</h5>
				<vc:navigation-menu></vc:navigation-menu>
			</div>
		</div>

		<!-- Основний контент -->
		<div class="col-lg-9">
			<div class="d-flex justify-content-between align-items-center mb-3">
				<h2 class="fw-semibold">
					@if (string.IsNullOrEmpty(Model.CurrentDepartment))
					{
						<span>Всі записи на прийом</span>
					}
					else
					{
						<span>Відділення: @Model.CurrentDepartment</span>
					}
				</h2>
				<a href="/Appointments/Create" class="btn btn-primary">
					<i class="bi bi-plus-circle"></i> Новий запис
				</a>
			</div>

			@if (Model.Appointments.Any())
			{
				<div class="table-responsive">
					<table class="table table-hover align-middle">
						<thead>
							<tr>
								<th>Пацієнт</th>
								<th>Лікар</th>
								<th>Дата</th>
								<th>Відділення</th>
								<th>Дії</th>
							</tr>
						</thead>
						<tbody>
							@foreach (var a in Model.Appointments)
							{
								<partial name="_AppointmentRow" model="a" />
							}
						</tbody>
					</table>
				</div>

				<nav class="mt-3">
					<ul class="pagination justify-content-center">
						@for (int i = 1; i <= Model.PagingInfo.TotalPages; i++)
						{
							<li class="page-item @(i == Model.PagingInfo.CurrentPage ? "active" : "")">
								<a class="page-link" 
								   asp-controller="Appointments" 
								   asp-action="Index" 
								   asp-route-department="@Model.CurrentDepartment"
								   asp-route-page="@i">@i</a>
							</li>
						}
					</ul>
				</nav>
			}
			else
			{
				<div class="alert alert-secondary text-center">
					@if (string.IsNullOrEmpty(Model.CurrentDepartment))
					{
						<span>Немає записів на прийом.</span>
					}
					else
					{
						<span>Немає записів для відділення "@Model.CurrentDepartment".</span>
					}
				</div>
			}
		</div>
	</div>
</div>
